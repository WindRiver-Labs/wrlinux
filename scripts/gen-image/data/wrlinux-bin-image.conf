TMPDIR = "${TOPDIR}/tmp-${MACHINE}"
DL_DIR = "${TOPDIR}/downloads"
SSTATE_DIR = "${TOPDIR}/sstate-cache"

DISTRO = "wrlinux-graphics"
PACKAGE_CLASSES = "package_rpm"
PRSERV_HOST = "localhost:0"

# Disable multilib
MULTILIBS = ""

# Make /var/log save on persistent storage to make the image work for container
VOLATILE_DIR = "0"

SSTATE_PRUNE_OBSOLETEWORKDIR = "0"

# For feature/passwd-expire
FORCE_EXPIRED_USERS = 'root'

INHERIT += "rm_work"
RM_WORK_EXCLUDE += "wrlinux-image-full wrlinux-image-minimal"

# Templates
WRTEMPLATE = "feature/docker feature/kubernetes feature/ntp feature/ostree \
    feature/python-tkinter feature/passwd-expire feature/xfce \
"

WRTEMPLATE_append_intel-x86-64 = " feature/lat"
WRTEMPLATE_append_bcm-2xxx-rpi4 = " feature/lat"

KERNEL_FEATURES_append += "features/nfsd/nfsd-enable.scc"
KERNEL_MODULE_AUTOLOAD += "nfsd"

SDKMACHINE = "x86_64"

VIRTUAL-RUNTIME_graphical_init_manager = "lxdm"

#### For ostree
GPG_PATH ?= "${TOPDIR}/.gnupg"
OSTREE_USE_AB = "0"

OSTREE_REMOTE_URL = "${PACKAGE_FEED_URIS}/dist/${MACHINE}/repos/ostree_repo"
DISTRO_VERSION_pn-grub-efi = "-"

# Size of the Root partition 4GB
OSTREE_FDISK_RSZ = "4096"

#### Packages repos
INHERIT += "packagefeed-stability"
PACKAGE_FEED_BASE_PATHS = "dist/${MACHINE}/repos/rpm"

# The supported boards of the bsp, use comma as the separator for multiple ones.
BSP_SUPPORTED_BOARDS ??= "${MACHINE}"
BSP_SUPPORTED_BOARDS_bcm-2xxx-rpi4 = "raspberry_pi_4_model_b"
BSP_SUPPORTED_BOARDS_intel-socfpga-64 = "intel_stratix_10_socfpga"
BSP_SUPPORTED_BOARDS_intel-x86-64 = "intel_nuc7,intel_tiger_lake_up3,intel_ice_lake-sp"
BSP_SUPPORTED_BOARDS_marvell-cn96xx = "marvell_cn96xx-crb"
BSP_SUPPORTED_BOARDS_nxp-imx8 = "nxp_mcimx8qm-mek"
BSP_SUPPORTED_BOARDS_nxp-s32g2xx = "nxp_s32g274a-evb,nxp_s32g274a-rdb2"
BSP_SUPPORTED_BOARDS_ti-j72xx = "ti_j721e_evm"
BSP_SUPPORTED_BOARDS_xilinx-zynqmp = "xilinx_zynqmp_zcu102"
BSP_SUPPORTED_BOARDS_xilinx-zynq = "xilinx_zynq_zc702,xilinx_zynq_zc706"
