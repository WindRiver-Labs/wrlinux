From ab83b0b211ba0231d5f5fa58a3b67db573e8afcc Mon Sep 17 00:00:00 2001
From: He Zhe <zhe.he@windriver.com>
Date: Thu, 15 Nov 2018 14:53:46 +0800
Subject: [PATCH] as: Print more info when input and output files are same

Upstream-Status: Inappropriate [for temporary debugging]

Signed-off-by: He Zhe <zhe.he@windriver.com>
---
 gas/as.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/gas/as.c b/gas/as.c
index 919c24a..ee62521 100644
--- a/gas/as.c
+++ b/gas/as.c
@@ -1273,8 +1273,8 @@ main (int argc, char ** argv)
 
 	      /* Don't let as_fatal remove the output file!  */
 	      out_file_name = NULL;
-	      as_fatal (_("The input '%s' and output '%s' files are the same"),
-			argv[i], saved_out_file_name);
+	      as_fatal (_("The input '%s, ino: %lu' and output '%s, ino: %lu' files are the same"),
+			argv[i], sib.st_ino, saved_out_file_name, sob.st_ino);
 	    }
 	}
     }
-- 
2.7.4

