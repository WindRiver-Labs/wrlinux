From 3f43438aebcbcc9e93f43a50662c284c42aa6db0 Mon Sep 17 00:00:00 2001
From: He Zhe <zhe.he@windriver.com>
Date: Wed, 18 Dec 2019 16:48:15 +0800
Subject: [PATCH 1/6] Revert "mips: Add clock_gettime64 entry point"

This reverts commit 1f66c45db3302386ca3bb3b5ed05248434237fc9.

Upstream-Status: Wind River specific
Signed-off-by: He Zhe <zhe.he@windriver.com>

---
 arch/mips/vdso/vdso.lds.S      | 3 ---
 arch/mips/vdso/vgettimeofday.c | 6 ------
 2 files changed, 9 deletions(-)

diff --git a/arch/mips/vdso/vdso.lds.S b/arch/mips/vdso/vdso.lds.S
index da4627430aba..ad9f2f2c0c97 100644
--- a/arch/mips/vdso/vdso.lds.S
+++ b/arch/mips/vdso/vdso.lds.S
@@ -96,9 +96,6 @@ VERSION
 		__vdso_clock_gettime;
 		__vdso_gettimeofday;
 		__vdso_clock_getres;
-#if _MIPS_SIM != _MIPS_SIM_ABI64
-		__vdso_clock_gettime64;
-#endif
 #endif
 	local: *;
 	};
diff --git a/arch/mips/vdso/vgettimeofday.c b/arch/mips/vdso/vgettimeofday.c
index 6ebdc37c89fc..48e1ab32204b 100644
--- a/arch/mips/vdso/vgettimeofday.c
+++ b/arch/mips/vdso/vgettimeofday.c
@@ -29,12 +29,6 @@ int __vdso_clock_getres(clockid_t clock_id,
 	return __cvdso_clock_getres_time32(clock_id, res);
 }
 
-int __vdso_clock_gettime64(clockid_t clock,
-			   struct __kernel_timespec *ts)
-{
-	return __cvdso_clock_gettime(clock, ts);
-}
-
 #else
 
 int __vdso_clock_gettime(clockid_t clock,
-- 
2.24.1

