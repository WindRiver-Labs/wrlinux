#@TYPE: Distro
#@NAME: Wind River Linux OverC
#@DESCRIPTION: Wind River Linux (OverC)

PREFERRED_PROVIDER_virtual/kernel ?= "linux-yocto"
PREFERRED_VERSION_linux-yocto ?= "4.18%"

# Use the overc distribution as-is.  Do not change distribution configuration
# in this file!
require conf/distro/overc.conf

# We want to globally disable wic for any overc usage.  OverC has it's own
# image generation method.
IMAGE_FSTYPES_remove = "wic wic.bmap"

# This is the one exception, for branding purposes
DISTRO_NAME = "Wind River Linux OverC"

require conf/distro/include/wrlinux-overc-blacklist.conf
require conf/distro/include/wrlinux-overc-whitelist.conf

# Enforce our configuration as immutable
OE_IMPORTS += "overc.immutable"
BB_SIGNATURE_HANDLER = "OverCBasicHash"

include ${@'conf/distro/include/${MACHINE}-lockdown.inc' if (not d.getVar('SIGGEN_OVERC_DEVEL') or d.getVar('SIGGEN_OVERC_DEVEL') == '0') else ''}

BANNER[wrlinux-overc_distro_A] = "${@'Development Mode Enabled, ignoring hashes' if (d.getVar('SIGGEN_OVERC_DEVEL') and d.getVar('SIGGEN_OVERC_DEVEL') != '0') else ''}"

# Load our package revision information
include ${@'conf/distro/include/pr-lockdown.inc' if (not d.getVar('PRSERV_OVERC_DEVEL') or d.getVar('PRSERV_OVERC_DEVEL') == '0') else''}

BANNER[wrlinux-overc_distro_B] = "${@'Development Mode Enabled, ignoring locked PR values' if (d.getVar('PRSERV_OVERC_DEVEL') and d.getVar('PRSERV_OVERC_DEVEL') != '0') else ''}"
