#
# Copyright (C) 2013 - 2017 Wind River Systems, Inc.
#
# Explicitly disallow these recipes when this layer is included.  Items are also blacklisted
# in .inc and .conf files associated with specific wrlinux distro's.  Use "?=" or "??=" in these
# files so that blacklisting can be overridden in local.conf.

# PNBLACKLIST[PN] = "reason"

INHERIT_BLACKLIST = "blacklist"

# Remove blacklist once the build appliance is supported.
PNBLACKLIST[build-appliance-image] ?= "The build appliance image is not supported at this time."

PNBLACKLIST[ajenti] ?= "The ajenti recipe does not have various required python modules available, this recipe is not supported."
PNBLACKLIST[qt-mobility-x11] ?= "The qt-mobility-x11 recipe is not supported at this time."
PNBLACKLIST[qt-mobility-embedded] ?= "The qt-mobility-embedded recipe is not supported at this time."

BL_SYSTEMTAP_MSG = ""
BL_SYSTEMTAP_MSG_osv-wrlinux = "Unsupported: perf is the preferred tool for system-wide debugging"
PNBLACKLIST[systemtap] ?= "${BL_SYSTEMTAP_MSG}"
PNBLACKLIST[systemtap-uprobes] ?= "${BL_SYSTEMTAP_MSG}"

PNBLACKLIST[linux-yocto] ?= "${@'Only linux-yocto 4.12 is supported, version ${PV} skipped.  Set PREFERRED_VERSION_linux-yocto = "4.12.%"' if not d.getVar('PV').startswith('4.12') else ''}"
PNBLACKLIST[linux-yocto-rt] ?= "${@'Only linux-yocto 4.12 is supported, version ${PV} skipped.  Set PREFERRED_VERSION_linux-yocto = "4.12.%"' if not d.getVar('PV').startswith('4.12') else ''}"
PNBLACKLIST[linux-yocto-tiny] ?= "${@'Only linux-yocto 4.12 is supported, version ${PV} skipped.  Set PREFERRED_VERSION_linux-yocto = "4.12.%"' if not d.getVar('PV').startswith('4.12') else ''}"

PNBLACKLIST[linux-intel] ?= "The linux-intel kernel is not supported, use linux-yocto instead."
PNBLACKLIST[linux-intel-rt] ?= "The linux-intel-rt kernel is not supported, use linux-yocto-rt instead."

# LIN10-38
PNBLACKLIST[wireguard-tools] ?= "Depends on blacklisted wireguard-module"

PNBLACKLIST[wireguard-module] ?= "do_fetch failed"

PNBLACKLIST[ceph] ?= "do_configure failed"

PNBLACKLIST[qat17] ?= "do_compile failed"
PNBLACKLIST[openssl-qat] ?= "Depends on qat17"
PNBLACKLIST[zlib-qat] ?= "Depends on qat17"

# LIN1018-14, LIN1018-15, LIN1018-16
PNBLACKLIST[webkitgtk] ?= "do_configure or do_compile"
PNBLACKLIST[epiphany] ?= "Depends on blacklisted webkitgtk"

PNBLACKLIST[ntop] ?= "LIN1018-34: do_configure failed"

PNBLACKLIST[postfix] ?= "LIN1018-35: do_install failed"
RDEPENDS_packagegroup-wr-core-mail_remove = "postfix"
